ðŸ‘€ 1. O que sÃ£o VIEWS?

Uma **VIEW** Ã© uma consulta SQL armazenada que pode ser tratada como uma tabela virtual. Elas sÃ£o Ãºteis para **simplificar consultas complexas** e **proteger dados sensÃ­veis**, restringindo o acesso a determinadas colunas.

### ðŸ“Œ Criando uma View

# 1) View :Exibir usuÃ¡rios e seus planos ativos

create view usuarios_com_planos AS
select u.id_usuario, u.nome, u.email, p.pacote, p.preco, ap.data_inicio, ap.data_termino
from usuario u
join assina_plano ap on u.id_usuario = ap.id_usuario
join plano p on ap.id_plano = p.id_plano
where ap.data_termino >= CURDATE();

ðŸ“Œ Usando uma View

select * from usuarios_com_planos;

# 2) View : Exibir sÃ©ries com avaliaÃ§Ãµes mÃ©dias

CREATE VIEW series_com_avaliacoes AS
SELECT s.id_serie, s.titulo, s.genero, s.temporadas, s.ano_lancamento, s.classificacao_indicativa,
       s.criador, s.sinopse, AVG(avaliacao) AS media_avaliacao
FROM serie s
LEFT JOIN assistiu_serie a ON s.id_serie = a.id_serie
GROUP BY s.id_serie;

select * from  series_com_avaliacoes;

ðŸ“Œ Excluindo uma View

DROP VIEW series_com_avaliacoes ;
